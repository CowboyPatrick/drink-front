(function(e){function t(t){for(var i,a,c=t[0],l=t[1],s=t[2],d=0,p=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2b64":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),o={id:"app"};function r(e,t,n,r,a,c){var l=Object(i["i"])("signin"),s=Object(i["i"])("drinks");return Object(i["e"])(),Object(i["c"])("div",o,[Object(i["d"])(l,{signedIn:a.signedIn,onLogin:t[1]||(t[1]=function(e){return c.login(e)})},null,8,["signedIn"]),Object(i["d"])(s,{drinklist:a.drinklist,url_base:a.url_base,onUpdate:t[2]||(t[2]=function(e){return c.update()})},null,8,["drinklist","url_base"])])}n("d3b7"),n("b0c0");var a=Object(i["n"])("data-v-6dea7c18");Object(i["g"])("data-v-6dea7c18");var c=Object(i["d"])("label",{for:"new_drink"},"Drink Name:",-1),l=Object(i["d"])("label",{for:"drink_category"},"Category:",-1),s=Object(i["d"])("button",null,"Add a Drink",-1),u={class:"drinks"},d={class:"content"};Object(i["f"])();var p=a((function(e,t,n,o,r,a){return Object(i["e"])(),Object(i["c"])(i["a"],null,[Object(i["d"])("form",{id:"new_drink_form",onSubmit:t[3]||(t[3]=Object(i["m"])((function(){return a.createDrink.apply(a,arguments)}),["prevent"]))},[Object(i["d"])("div",null,[c,Object(i["l"])(Object(i["d"])("input",{type:"text",name:"new_drink","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.new_drink=e})},null,512),[[i["k"],r.new_drink]])]),Object(i["d"])("div",null,[l,Object(i["l"])(Object(i["d"])("input",{type:"text",for:"drink_category","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.category=e})},null,512),[[i["k"],r.category]])]),s],32),Object(i["d"])("div",u,[(Object(i["e"])(!0),Object(i["c"])(i["a"],null,Object(i["h"])(n.drinklist,(function(e){return Object(i["e"])(),Object(i["c"])("div",{class:"card-drink",key:e.id},[Object(i["d"])("h2",null,"Name: "+Object(i["j"])(e.name),1),Object(i["d"])("h3",null,"Category: "+Object(i["j"])(e.category),1),Object(i["d"])("button",{onClick:function(t){return a.destroy(e.id)}},"Delete",8,["onClick"]),Object(i["d"])("button",{onClick:function(t){return a.collapse(e.id,t)},class:"collapsible"},"Reviews",8,["onClick"]),Object(i["d"])("div",d,[(Object(i["e"])(!0),Object(i["c"])(i["a"],null,Object(i["h"])(e.reviews,(function(e){return Object(i["e"])(),Object(i["c"])("div",{key:e.id},Object(i["j"])(e.content),1)})),128))])])})),128))])],64)})),b=(n("99af"),{name:"drinks",emits:["update"],props:{drinklist:{type:Array},url_base:{type:String},email:{type:String}},data:function(){return{new_drink:"",category:""}},methods:{createDrink:function(){var e=this;if(""!=this.new_drink&&""!=this.category){var t={method:"POST",headers:{"Content-Type":"application/json","X-User-Email":localStorage.getItem("email"),"X-User-Token":localStorage.getItem("authentication_token")},body:JSON.stringify({name:this.new_drink,category:this.category})};fetch(this.url_base,t).then((function(t){t&&e.$emit("update")})),this.new_drink="",this.category=""}},destroy:function(e){var t=this,n={method:"DELETE",headers:{"Content-Type":"application/json","X-User-Email":localStorage.getItem("email"),"X-User-Token":localStorage.getItem("authentication_token")}};fetch("".concat(this.url_base).concat(e),n).then((function(e){e&&t.$emit("update")}))},collapse:function(e,t){"block"===t.target.nextElementSibling.style.display?t.target.nextElementSibling.style.display="none":t.target.nextElementSibling.style.display="block"}}});n("71db");b.render=p,b.__scopeId="data-v-6dea7c18";var f=b,g=Object(i["d"])("label",{for:"email"},"Email: ",-1),m=Object(i["d"])("label",{for:"password"},"Password: ",-1),h=Object(i["d"])("button",null,"Log In",-1);function j(e,t,n,o,r,a){return!1===n.signedIn?(Object(i["e"])(),Object(i["c"])("form",{key:0,id:"sign_in_form",onSubmit:t[3]||(t[3]=Object(i["m"])((function(){return a.logIn.apply(a,arguments)}),["prevent"]))},[g,Object(i["l"])(Object(i["d"])("input",{type:"text",name:"email","onUpdate:modelValue":t[1]||(t[1]=function(e){return r.email=e})},null,512),[[i["k"],r.email]]),m,Object(i["l"])(Object(i["d"])("input",{type:"password",name:"password","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.password=e})},null,512),[[i["k"],r.password]]),h],32)):(Object(i["e"])(),Object(i["c"])("button",{key:1,onClick:t[4]||(t[4]=function(){return a.logOut.apply(a,arguments)})},"Log Out"))}var O={name:"signin",props:{signedIn:Boolean},data:function(){return{email:"",password:"",sign_in_url:"http://localhost:3000/api/v1/sign_in",apiResponse:{}}},emits:["login"],methods:{logIn:function(){var e=this,t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:this.email,password:this.password}})};fetch(this.sign_in_url,t).then((function(e){return e.json()})).then((function(t){e.apiResponse=t,localStorage.setItem("authentication_token",e.apiResponse.data.user.authentication_token),localStorage.setItem("email",e.apiResponse.data.user.email),e.$emit("login",!0)})),this.email="",this.password=""},logOut:function(){localStorage.clear(),this.$emit("login",!1)}}};O.render=j;var y=O,k={name:"App",components:{drinks:f,signin:y},data:function(){return{signedIn:!!localStorage.getItem("authentication_token"),drinklist:[{}],url_base:"http://localhost:3000/api/v1/drinks/",email:""}},mounted:function(){localStorage.getItem("authentication_token")&&(this.email=localStorage.getItem("email"),this.getData())},methods:{getData:function(){fetch("".concat(this.url_base),{headers:{"Content-Type":"application/json","X-User-Email":localStorage.getItem("email"),"X-User-Token":localStorage.getItem("authentication_token")}}).then((function(e){return e.json()})).then(this.setResults)},setResults:function(e){this.drinklist=e},login:function(e){this.signedIn=e,this.getData()},update:function(){this.getData()}}};n("64be");k.render=r;var v=k;Object(i["b"])(v).mount("#app")},"64be":function(e,t,n){"use strict";n("c894")},"71db":function(e,t,n){"use strict";n("2b64")},c894:function(e,t,n){}});
//# sourceMappingURL=app.ecedbad3.js.map